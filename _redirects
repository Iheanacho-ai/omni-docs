# ===== Omni redirects (old -> new) =====

# ---- Overview ----
/                                 https://docs.siderolabs.com/omni/overview/what-is-omni 301!
/index.html                        https://docs.siderolabs.com/omni/overview/what-is-omni 301!

# ---- Getting Started ----
/how-to-guides/how-to-install-talosctl         https://docs.siderolabs.com/omni/getting-started/how-to-install-talosctl 301!
/how-to-guides/install-and-configure-omnictl   https://docs.siderolabs.com/omni/getting-started/install-and-configure-omnictl 301!
/tutorials/getting_started                     https://docs.siderolabs.com/omni/getting-started/getting-started 301!
/how-to-guides/use-kubectl-with-omni           https://docs.siderolabs.com/omni/getting-started/use-kubectl-with-omni 301!
/how-to-guides/index         https://docs.siderolabs.com/omni/getting-started/create-a-cluster 301!

# ---- Infrastructure & Extensions ----
/tutorials/install-airgapped-omni              https://docs.siderolabs.com/omni/infrastructure-and-extensions/install-airgapped-omni 301!
/explanation/infrastructure-providers          https://docs.siderolabs.com/omni/infrastructure-and-extensions/infrastructure-providers 301!
/explanation/machine-registration              https://docs.siderolabs.com/omni/infrastructure-and-extensions/machine-registration 301!
/how-to-guides/install-talos-linux-extensions  https://docs.siderolabs.com/omni/infrastructure-and-extensions/install-talos-linux-extensions 301!

# Self-Hosted (submenu)
/how-to-guides/self_hosted                                 https://docs.siderolabs.com/omni/infrastructure-and-extensions/self-hosted/overview  301!
/how-to-guides/self_hosted/index                           https://docs.siderolabs.com/omni/infrastructure-and-extensions/self-hosted/deploy-omni-on-prem   301!
/how-to-guides/self_hosted/_index                           https://docs.siderolabs.com/omni/infrastructure-and-extensions/self-hosted/configure-keycloak-for-omni/configure-keycloak-for-omni 301!
/how-to-guides/self_hosted/how-to-back-up-on-prem-omni-db   https://docs.siderolabs.com/omni/infrastructure-and-extensions/self-hosted/how-to-back-up-on-prem-omni-db 301!
/how-to-guides/self_hosted/expose-omni-with-nginx-https     https://docs.siderolabs.com/omni/infrastructure-and-extensions/self-hosted/expose-omni-with-nginx-https 301!



# ---- Omni Cluster Setup ----
/how-to-guides/create-a-kubeconfig-for-a-service-account  https://docs.siderolabs.com/omni/omni-cluster-setup/create-a-kubeconfig-for-a-service-account 301!
/how-to-guides/create-a-machine-class                     https://docs.siderolabs.com/omni/omni-cluster-setup/create-a-machine-class 301!
/how-to-guides/create-a-patch-for-cluster-machines        https://docs.siderolabs.com/omni/omni-cluster-setup/create-a-patch-for-cluster-machines 301!
/how-to-guides/create-an-omni-service-account             https://docs.siderolabs.com/omni/omni-cluster-setup/create-an-omni-service-account 301!
/how-to-guides/how-to-set-initial-machine-labels          https://docs.siderolabs.com/omni/omni-cluster-setup/how-to-set-initial-machine-labels 301!
/tutorials/setting-up-the-bare-metal-infrastructure-provider  https://docs.siderolabs.com/omni/omni-cluster-setup/setting-up-the-bare-metal-infrastructure-provider 301!

# Register machines with Omni (folder)
/how-to-guides/registering-machines/how-to-register-an-aws-ec2-instance  https://docs.siderolabs.com/omni/omni-cluster-setup/registering-machines/how-to-register-an-aws-ec2-instance 301!
/how-to-guides/registering-machines/index  https://docs.siderolabs.com/omni/omni-cluster-setup/registering-machines/register-a-bare-metal-machine-iso 301!
/how-to-guides/registering-machines/register-a-bare-metal-machine-pxe-ipxe    https://docs.siderolabs.com/omni/omni-cluster-setup/registering-machines/register-a-bare-metal-machine-pxe-ipxe 301!
/how-to-guides/registering-machines/register-a-gcp-instance            https://docs.siderolabs.com/omni/omni-cluster-setup/registering-machines/register-a-gcp-instance 301!
/how-to-guides/registering-machines/register-a-hetzner-server          https://docs.siderolabs.com/omni/omni-cluster-setup/registering-machines/register-a-hetzner-server 301!
/how-to-guides/registering-machines/register-an-azure-instance                https://docs.siderolabs.com/omni/omni-cluster-setup/registering-machines/register-an-azure-instance 301!
/how-to-guides/registering-machines                                     https://docs.siderolabs.com/omni/omni-cluster-setup/registering-machines/register-machines-with-omni 301!

# ---- Cluster Management ----
/how-to-guides/scale-a-cluster-up-or-down           https://docs.siderolabs.com/omni/cluster-management/scale-a-cluster-up-or-down 301!
/how-to-guides/create-a-hybrid-cluster              https://docs.siderolabs.com/omni/cluster-management/create-a-hybrid-cluster 301!
/tutorials/upgrading-clusters                       https://docs.siderolabs.com/omni/cluster-management/upgrading-clusters 301!
/how-to-guides/expose-an-http-service-from-a-cluster https://docs.siderolabs.com/omni/cluster-management/expose-an-http-service-from-a-cluster 301!
/how-to-guides/export-a-cluster-template-from-a-cluster-created-in-the-ui  https://docs.siderolabs.com/omni/cluster-management/export-a-cluster-template-from-a-cluster-created-in-the-ui 301!
/how-to-guides/etcd-backups                         https://docs.siderolabs.com/omni/cluster-management/etcd-backups 301!
/how-to-guides/restore-etcd-of-a-cluster-managed-by-cluster-templates  https://docs.siderolabs.com/omni/cluster-management/restore-etcd-of-a-cluster-managed-by-cluster-templates 301!
/how-to-guides/using-audit-log                      https://docs.siderolabs.com/omni/cluster-management/using-audit-log 301!

# ---- Security & Authentication ----
/explanation/authentication-and-authorization       https://docs.siderolabs.com/omni/security-and-authentication/authentication-and-authorization 301!
/how-to-guides/how-to-manage-acls                   https://docs.siderolabs.com/omni/security-and-authentication/how-to-manage-acls 301!
/explanation/omni-kms-disk-encryption               https://docs.siderolabs.com/omni/security-and-authentication/omni-kms-disk-encryption 301!
/how-to-guides/rotate-siderolink-join-token         https://docs.siderolabs.com/omni/security-and-authentication/rotate-siderolink-join-token/rotate-siderolink-join-token 301!

# Using SAML With Omni
/how-to-guides/using-saml-with-omni                 https://docs.siderolabs.com/omni/security-and-authentication/using-saml-with-omni/overview 301!
/tutorials/configure-saml-and-acls                  https://docs.siderolabs.com/omni/security-and-authentication/using-saml-with-omni/configure-saml-and-acls 301!
/how-to-guides/using-saml-with-omni/add-a-user-to-omni-with-saml-enabled  https://docs.siderolabs.com/omni/security-and-authentication/using-saml-with-omni/add-a-user-to-omni-with-saml-enabled 301!
/how-to-guides/using-saml-with-omni/auto-assign-roles-to-saml-users     https://docs.siderolabs.com/omni/security-and-authentication/using-saml-with-omni/auto-assign-roles-to-saml-users 301!   
/how-to-guides/using-saml-with-omni/configure-workspace-one-access-for-omni  https://docs.siderolabs.com/omni/security-and-authentication/using-saml-with-omni/configure-workspace-one-access-for-omni/configure-workspace-one-access-for-omni 301!
/how-to-guides/using-saml-with-omni/configure-unifi-identity-enterprise-for-omni   https://docs.siderolabs.com/omni/security-and-authentication/using-saml-with-omni/configure-unifi-identity-enterprise-for-omni/configure-unifi-identity-enterprise-for-omni 301!
how-to-guides/using-saml-with-omni/how-to-configure-entraid-for-omni        https://docs.siderolabs.com/omni/security-and-authentication/using-saml-with-omni/how-to-configure-entraid-for-omni 301!
/how-to-guides/using-saml-with-omni/configure-okta-for-omni     https://docs.siderolabs.com/omni/security-and-authentication/using-saml-with-omni/configure-okta-for-omni/configure-okta-for-omni 301!

# ---- Reference ----
/reference/acls                                     https://docs.siderolabs.com/omni/reference/acls 301!
/reference/cli                                      https://docs.siderolabs.com/omni/reference/cli 301!
/reference/cluster-templates                        https://docs.siderolabs.com/omni/reference/cluster-templates 301!
/reference/generating-omnictl-cli-reference         https://docs.siderolabs.com/omni/reference/generating-omnictl-cli-reference 301!

# ---- Misc legacy stubs ----
/support                                            https://docs.siderolabs.com/omni/overview/what-is-omni 301!

# ---- Catch legacy /docs/ prefix if any old links used it ----
/docs/*                                            https://docs.siderolabs.com/omni/:splat 301!

# ---- FINAL CATCH-ALL: mirror remaining paths under /omni/ ----
/*                                                 https://docs.siderolabs.com/omni/:splat 301!
